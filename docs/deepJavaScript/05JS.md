---
title: JS函数知识补充
date: 2021-12-10
categories:
 - JavaScript
tags:
 - JavaScript
 - 严格模式
---

<!-- more -->




## with语句

```js
//with语句会形成自己的作用域
var message = "hello world"
var obj = {name: "okarin" ,agr:19,message:"with"}

function foo(){
    function bar(){
        with(obj){
             console.log(message)//with
        }
    }
    bar()
}

foo()
```

with语句会形成自己的作用域

![](https://s2.loli.net/2021/12/10/VNJbCr6IQz9PExW.png)

## eval函数

eval 是一个**特殊的函数**，它可以将**传入的字符串**当作JavaScript代码来运行。

```js
var jsString = "console.log('hello world')"

eval(jsString)//hello world
```

![](https://s2.loli.net/2021/12/10/D3UkdKmj2ArhOuz.png)

## 严格模式

![](https://s2.loli.net/2021/12/10/TBIxUjdcvuknCQg.png)

![](https://s2.loli.net/2021/12/10/NKDSxYmRwJMpjeB.png)

 ### 开启严格模式

* 给单个js文件开启严格模式

```js
"use strict";

... 

```

* 对某个函数开启严格模式

```js
function foo(){
    "use strict";
    ...
}
```

### 严格模式限制

![](https://s2.loli.net/2021/12/10/nsdYlrbiWJG9B42.png)

* 意外创建全局变量

  ```js
  "use strict";
  
  message = "hello world"
  console.log(message)
  
  function foo(){
      age = 20
  }
  
  foo()
  
  console.log(age) //不开启严格模式会创建全局变量age，开启后就报错 age is not defined
  
  ```

* 不允许函数有相同的参数名称

  ```js
  "use strict";
  
  function foo(x,y,x){
      console.log(x,y,x)
  }
  
  foo(10,20,30) //不开启严格模式 30 20 30 
  开启报错
  ```

  

* 静默错误

  ```js
  "use strict";
  
  true.name = "abc"
  NaN = 123
  ```

  

* 不允许使用原来的八进制格式 0123

  ```js
  "use strict";
  //原来的
  var num = 0123
  
  //现在的
  var num = 0o123 //八进制
  var num = 0x123 //十六进制
  var num = 0b100 //二进制
  ```

* with 语句不允许使用

* eval函数不会向上引用变量

  ```js
  "use strict";
  var jsSrting = "var message = 'Hello world'";
  eval(jsString)
  
  console.log(message)//eval函数不会在全局作用域里面创建一个message变量
  ```

* 严格模式下，this绑定不会默认转成对象

  ```js
  "use strict";
  function foo(){
      console.log(this)
  }
  
  foo() //这时自执行函数会指向undefined
  ```

  