---
title: JS原型知识补充
date: 2021-12-02
categories:
 - JavaScript
tags:
 - JavaScript
 - 原型
---

<!-- more -->

## 一些判断方法的补充

### Object.create()

Object.create方法还可以**添加属性**，属性是**添加到对象本身**，而不是添加到原型上面。

```js
var obj = {
    name:"why",
    age:"18"
}

var info = Object.create(obj,{
    address:{
        value:"北京市",
        enumerable:true
    }
})

console.log(info)//{ address: '北京市' }
console.log(info.__proto__)//{ name: 'why', age: '18' }
```



### hasOwnProperty() 方法判断

hasOwnProperty()可以判断某一个属性**是否是对象本身的属性**，返回的是**布尔值**。用于判断对象是否有某一个属于自己的属性（不是在原型上的属性）

```js
var obj = {
    name:"why",
    age:"18"
}

var info = Object.create(obj,{
    address:{
        value:"北京市",
        enumerable:true
    }
})

console.log(info)
console.log(info.__proto__)

console.log(info.hasOwnProperty("address")) //true
console.log(info.hasOwnProperty("name"))//false
```

### in 操作符判断

in操作符**不管属性在对象中还是在对象的原型上**返回的都是**true**，用于判断某个属性是否在对象或者对象的原型上。

```js
var obj = {
    name:"why",
    age:"18"
}

var info = Object.create(obj,{
    address:{
        value:"北京市",
        enumerable:true
    }
})

console.log("address" in info)//true
console.log("name" in info)//true
```

#### 通过in遍历数组

```js
var obj = {
    name:"why",
    age:"18"
}

var info = Object.create(obj,{
    address:{
        value:"北京市",
        enumerable:true
    }
})

for(var key in info){
    console.log(key)
}

//address
//name
//age
```

可以**遍历对象所有的属性**，不管属性是在对象本身，还是在对象的原型上。

### instanceof()

用于检测**构造函数的prototype**，是否出现在**某个实例对象的原型链**上。

```js
function inheritPrototype(SubType,SuperType){
    SubType.prototype = Object.create(SuperType.prototype)
    Object.defineProperty(SubType.prototype,"constructor",{
        enumerable:false,
        configurable:true,
        writable:true,
        value:SubType
    })
}

function Person(){

}

function Student(){

}

inheritPrototype(Student,Person)

var stu = new Student()

console.log(stu instanceof Student)//true
console.log(stu instanceof Person)//true
console.log(stu instanceof Object)//true
```

### isPrototypeOf()

用于判断 **某个对象** 是否出现在**某个实例对象的原型链**上

```js
var obj = {
    name:"why"
}

var info = Object.create(obj) 
console.log(obj.isPrototypeOf(info)) //true

console.log(info instanceof obj)//TypeError
```

 ## 原型继承关系

![](https://s2.loli.net/2021/12/16/hAzPgmpKVUlwkDr.png)









